import { DayCurriculum } from '@/types';

export const day4: DayCurriculum = {
  dayId: 4,
  title: '実践プロジェクト',
  description: 'ロールに合わせた実践的なプロジェクトに挑戦し、AIとの協働スキルを磨こう',
  emoji: '🔨',
  quests: [
    // ========== Frontend Engineer ==========
    {
      id: 'day4-fe-quest1',
      dayId: 4,
      title: 'Todoアプリを作ろう',
      description: 'AIと協力してTodoアプリを一から構築し、フロントエンド開発の実践力を身につけよう',
      difficulty: 4,
      estimatedMinutes: 30,
      targetRoles: ['frontend-engineer'],
      steps: [
        {
          title: 'プロジェクトの設計',
          content: '**Cmd+I**（Composer）を開き、以下のプロンプトで設計を依頼する:\n`React + TypeScriptでTodoアプリを作りたい。以下の機能を含む設計をして: 1. Todoの追加（テキスト入力 + 追加ボタン） 2. 完了/未完了トグル 3. 削除機能。コンポーネント構成とProps定義を提案して`\nAIの提案を確認し、コンポーネント構成（`TodoApp`, `TodoList`, `TodoItem`, `AddTodoForm`）を決定する',
        },
        {
          title: 'コンポーネントの作成',
          content: '**Cmd+I**（Composer）で以下を依頼する:\n`先ほどの設計に基づいて、以下のファイルを作成して: 1. src/types/todo.ts（Todo型定義） 2. src/components/AddTodoForm.tsx 3. src/components/TodoItem.tsx 4. src/components/TodoList.tsx 5. src/App.tsx（メインコンポーネント）`\n各ファイルが作成されたら、import文が正しいか確認する',
        },
        {
          title: '状態管理の実装',
          content: '**Cmd+L**（チャット）で以下を依頼する:\n`TodoアプリにuseStateを使った状態管理を実装して: 1. todos配列のstate 2. addTodo関数（IDは Date.now()） 3. toggleTodo関数 4. deleteTodo関数。型安全にして`\n**Cmd+I**でコードをファイルに反映させ、ブラウザで追加・完了・削除が動作するか確認する',
        },
        {
          title: 'スタイリング',
          content: '**Cmd+K**でJSX部分を選択し、以下を指示する:\n`このTodoアプリにTailwind CSSでスタイルを追加して: 1. 中央寄せのカードレイアウト(max-w-md) 2. 入力欄とボタンは横並び 3. 完了したTodoに取り消し線と薄い色 4. 削除ボタンは赤系 5. モバイル対応`\nブラウザで見た目を確認する',
        },
        {
          title: '動作確認とリファクタリング',
          content: 'ブラウザで以下の動作を確認する:\n- Todoを3つ追加できるか\n- 完了/未完了の切り替えが正しく動くか\n- 削除後にリストが正しく更新されるか\n- 空文字でTodoが追加されないか\n確認後、**Cmd+L**で`このコードの改善点を提案して`と依頼し、リファクタリングを実施する',
        },
      ],
      challenge: 'AIと協力して、追加・削除・完了機能付きのTodoアプリを完成させよう',
      hints: [
        'まず要件を明確にしてからAIに伝えると、質の高いコードが生成される',
        'コンポーネントを小さく分けて一つずつ作っていくと管理しやすい',
      ],
      checkQuestions: [
        {
          question: 'AIと一緒にアプリを開発する際に最も重要なことは？',
          options: [
            '全てのコードをAIに一度に生成させる',
            '要件を明確にして段階的に開発を進める',
            'AIの提案をそのまま使う',
            'できるだけ多くの機能を一度に実装する',
          ],
          correctIndex: 1,
          explanation: '要件を明確にして段階的に進めることで、AIからより正確で管理しやすいコードが得られます',
        },
      ],
    },
    {
      id: 'day4-fe-quest2',
      dayId: 4,
      title: 'ダッシュボードを作ろう',
      description: 'データ可視化ダッシュボードをAIと一緒に構築し、実践的なUI開発を体験しよう',
      difficulty: 4,
      estimatedMinutes: 30,
      targetRoles: ['frontend-engineer'],
      steps: [
        {
          title: 'ダッシュボードの設計',
          content: '**Cmd+I**（Composer）で以下を依頼する:\n`データ可視化ダッシュボードを設計して。以下のウィジェットを含む: 1. KPIカード4つ（売上、ユーザー数、コンバージョン率、平均注文額） 2. 折れ線グラフ（月別売上推移） 3. 円グラフ（カテゴリ別売上比率） 4. テーブル（直近の注文一覧）。モックデータも一緒に作って`',
        },
        {
          title: 'グリッドレイアウトの構築',
          content: '**Cmd+I**（Composer）で以下を依頼する:\n`CSS Gridでダッシュボードのレイアウトを作って。構成: 上部にKPIカード4つ（1行4列）、中段にグラフ2つ（1行2列）、下段にテーブル（全幅）。gap: 24px、padding: 24px`\nブラウザでレイアウトが意図通りか確認する',
        },
        {
          title: 'チャートの実装',
          content: '**Cmd+L**（チャット）で以下を依頼する:\n`Rechartsを使って以下の2つのチャートコンポーネントを作って: 1. LineChart: 月別売上推移（X軸: 月、Y軸: 金額、ツールチップ付き） 2. PieChart: カテゴリ別売上比率（ラベル+パーセンテージ表示）。モックデータを含めて`\n`npm install recharts`でライブラリをインストールしてから実装する',
        },
        {
          title: 'データ表示カードの作成',
          content: '**Cmd+K**でカードコンポーネントのJSXを選択し、以下を指示する:\n`KPIカードコンポーネントを作って。Props: title(string), value(string), change(number, 前期比%), icon(ReactNode)。changeが正なら緑、負なら赤で表示。アニメーション: 数値がカウントアップするエフェクト`',
        },
        {
          title: 'レスポンシブ対応',
          content: '**Cmd+K**でグリッドCSSを選択し、以下を指示する:\n`このレイアウトをレスポンシブ対応して: モバイル(1列)、タブレット(2列)、デスクトップ(4列のKPI + 2列のチャート)`\nブラウザの**DevTools**（**Cmd+Shift+M**）で以下を確認:\n- モバイル（375px）: 全要素が1列で表示されるか\n- タブレット（768px）: KPIが2列、チャートが2列か\n- デスクトップ（1280px）: 設計通りのレイアウトか',
        },
      ],
      challenge: '3種類以上のデータ可視化コンポーネントを含むダッシュボードを構築しよう',
      hints: [
        'モックデータを先に準備してから、表示部分を実装すると効率的',
        'AIにチャートライブラリの使い方を聞きながら進めよう',
      ],
      checkQuestions: [
        {
          question: 'ダッシュボード開発でAIを活用する最も効果的な場面は？',
          options: [
            'デザインの配色選び',
            'チャートライブラリの設定コード生成',
            'ブラウザの選択',
            'ドメイン名の決定',
          ],
          correctIndex: 1,
          explanation: 'チャートライブラリは設定が複雑なため、AIにコード生成を依頼すると大幅に時間を短縮できます',
        },
      ],
    },
    {
      id: 'day4-fe-quest3',
      dayId: 4,
      title: 'リファクタリング実践',
      description: '既存の品質が低いコードをAIと一緒に分析・改善し、リファクタリングスキルを磨こう',
      difficulty: 4,
      estimatedMinutes: 25,
      targetRoles: ['frontend-engineer'],
      steps: [
        {
          title: '問題のあるコードを確認',
          content: 'プロジェクト内のコンポーネントを1つ開き（**Cmd+P**でファイル検索）、以下の問題がないか自分で考える:\n- 1ファイルに複数の責務が混在していないか\n- 変数名・関数名が分かりにくくないか\n- 同じロジックが複数箇所にコピーされていないか\n- `any`型が使われていないか\n自分の分析をメモしてからAIに依頼する',
        },
        {
          title: 'AIに分析を依頼',
          content: 'コード全体を選択し、**Cmd+L**（チャット）で依頼する:\n`このコードの問題点を以下の観点で分析して: 1. 単一責任の原則 2. DRY原則（重複コード） 3. 命名規則 4. 型安全性 5. パフォーマンス。各問題点に改善案のコード例を付けて`\n自分の分析とAIの指摘を比較し、見落としていた点を確認する',
        },
        {
          title: 'リファクタリングの実施',
          content: 'AIの提案をもとに、**Cmd+I**（Composer）で段階的にリファクタリングする:\n`以下の順序でリファクタリングして: 1. まず変数名と関数名を改善 2. 次に重複コードをユーティリティ関数に抽出 3. 最後にコンポーネントを分割`\n**重要**: 各ステップ後にブラウザで動作確認し、壊れていないことを確認する',
        },
        {
          title: '改善結果のレビュー',
          content: '改善後のコードを**Cmd+L**で以下のように依頼する:\n`リファクタリング後のコードをレビューして。改善された点と、まだ改善の余地がある点を教えて`\n確認項目:\n- TypeScriptの型エラーがないか（`npm run build`）\n- 元の機能が正しく動作するか（ブラウザで確認）\n- コードの可読性が向上したか',
        },
      ],
      challenge: '少なくとも3つの問題点を特定し、AIと一緒にコードを改善しよう',
      hints: [
        '「このコードの問題点を指摘して」とAIに聞くと具体的な改善案が得られる',
        'リファクタリングは一度に大きく変えず、小さなステップで進めよう',
      ],
      checkQuestions: [
        {
          question: 'リファクタリングでAIを活用する際のベストプラクティスは？',
          options: [
            'AIに全て任せて自分は確認しない',
            '問題点を自分で考えてからAIに相談する',
            'コード全体を一度に書き換える',
            'AIの提案は全て無視する',
          ],
          correctIndex: 1,
          explanation: 'まず自分で問題点を考えることで理解が深まり、AIの提案もより効果的に活用できます',
        },
      ],
    },
    // ========== Backend Engineer ==========
    {
      id: 'day4-be-quest1',
      dayId: 4,
      title: 'REST API構築',
      description: 'CRUD操作が可能なREST APIをAIと一緒に構築し、バックエンド開発を実践しよう',
      difficulty: 4,
      estimatedMinutes: 30,
      targetRoles: ['backend-engineer'],
      steps: [
        {
          title: 'APIの設計',
          content: '**Cmd+I**（Composer）で以下を依頼する:\n`タスク管理APIのREST設計をして。エンドポイント一覧を表形式で: GET /api/tasks（一覧）、GET /api/tasks/:id（詳細）、POST /api/tasks（作成）、PUT /api/tasks/:id（更新）、DELETE /api/tasks/:id（削除）。各エンドポイントのリクエスト/レスポンスJSON定義も含めて`',
        },
        {
          title: 'プロジェクトのセットアップ',
          content: 'ターミナル（**Ctrl+`**）で以下を実行する:\n`mkdir task-api && cd task-api && npm init -y && npm install express typescript @types/express ts-node`\n**Cmd+I**（Composer）で`tsconfig.jsonとsrc/index.tsの初期セットアップコードを作って。Express + TypeScript構成で`と依頼する',
        },
        {
          title: 'CRUDエンドポイントの実装',
          content: '**Cmd+I**（Composer）で以下を依頼する:\n`先ほどの設計に基づいて、全CRUDエンドポイントを実装して。データはインメモリ配列で管理（DB不要）。各エンドポイントにTypeScript型定義を付けて。ファイル構成: src/routes/tasks.ts, src/types/task.ts`\nコードが生成されたら、import文とルーティング設定が正しいか確認する',
        },
        {
          title: 'バリデーションの追加',
          content: '**Cmd+L**（チャット）で以下を依頼する:\n`各エンドポイントにバリデーションを追加して: 1. POST/PUT: titleが空でないこと、statusが"todo"|"doing"|"done"のいずれか 2. GET/:id, PUT, DELETE: idが存在するタスクか確認 3. エラー時は適切なHTTPステータスコード（400, 404）を返す`',
        },
        {
          title: 'テストと動作確認',
          content: 'ターミナルでサーバーを起動し（`npx ts-node src/index.ts`）、以下のcurlコマンドで動作確認する:\n- 作成: `curl -X POST http://localhost:3000/api/tasks -H "Content-Type: application/json" -d \'{"title":"テスト"}\'`\n- 一覧: `curl http://localhost:3000/api/tasks`\n- 更新: `curl -X PUT http://localhost:3000/api/tasks/1 -d \'{"status":"done"}\'`\n- 削除: `curl -X DELETE http://localhost:3000/api/tasks/1`\n各レスポンスが設計通りか確認する',
        },
      ],
      challenge: '完全なCRUD操作が可能なREST APIを構築し、全エンドポイントの動作を確認しよう',
      hints: [
        'AIにOpenAPI仕様を生成してもらうとAPI設計が明確になる',
        'エラーハンドリングのパターンもAIに提案してもらおう',
      ],
      checkQuestions: [
        {
          question: 'REST APIのCRUDに対応するHTTPメソッドの組み合わせとして正しいのは？',
          options: [
            'GET, POST, PUT, DELETE',
            'READ, WRITE, UPDATE, REMOVE',
            'FETCH, SEND, CHANGE, DROP',
            'SELECT, INSERT, MODIFY, ERASE',
          ],
          correctIndex: 0,
          explanation: 'RESTfulなCRUD操作はGET（Read）、POST（Create）、PUT（Update）、DELETE（Delete）に対応します',
        },
      ],
    },
    {
      id: 'day4-be-quest2',
      dayId: 4,
      title: '認証システム',
      description: 'JWT認証をAIと一緒に実装し、セキュアなAPI構築のスキルを身につけよう',
      difficulty: 4,
      estimatedMinutes: 30,
      targetRoles: ['backend-engineer'],
      steps: [
        {
          title: '認証フローの設計',
          content: '**Cmd+L**（チャット）で以下を依頼する:\n`JWT認証のフローを設計して。以下を含めて: 1. POST /api/auth/register（ユーザー登録） 2. POST /api/auth/login（ログイン→JWT発行） 3. 認証ミドルウェア（トークン検証） 4. GET /api/profile（認証必須エンドポイント）。フロー図をテキストで表現して`',
        },
        {
          title: 'ユーザー登録の実装',
          content: '**Cmd+I**（Composer）で以下を依頼する:\n`ユーザー登録エンドポイントを実装して。仕様: 1. email + passwordを受け取る 2. bcryptでパスワードをハッシュ化 3. ユーザーをインメモリ配列に保存 4. メール重複チェック 5. パスワードは8文字以上。必要パッケージ: bcryptjs, @types/bcryptjs`\n`npm install bcryptjs jsonwebtoken @types/bcryptjs @types/jsonwebtoken`を先に実行する',
        },
        {
          title: 'ログイン・トークン発行',
          content: '**Cmd+I**（Composer）で続けて依頼する:\n`ログインエンドポイントとJWTトークン発行を実装して: 1. email + passwordを受け取る 2. bcrypt.compareでパスワード照合 3. jwt.signでトークン生成（有効期限: 1時間） 4. レスポンス: { token: "xxx", expiresIn: 3600 }。シークレットキーは環境変数JWT_SECRETから取得`',
        },
        {
          title: '認証ミドルウェアの作成',
          content: '**Cmd+L**（チャット）で以下を依頼する:\n`JWT認証ミドルウェアを作って: 1. Authorizationヘッダーから"Bearer xxx"形式でトークンを取得 2. jwt.verifyで検証 3. 成功時: req.userにペイロードをセット 4. 失敗時: 401レスポンス。保護ルート /api/profile に適用して`\nターミナルでトークンなしでアクセスし、401が返ることを確認する',
        },
        {
          title: 'セキュリティの確認',
          content: '**Cmd+L**で認証関連のコード全体を貼り付け、以下を依頼する:\n`この認証実装のセキュリティをレビューして。チェック項目: 1. パスワードが平文で保存されていないか 2. JWTシークレットがハードコードされていないか 3. トークン有効期限は適切か 4. エラーメッセージで情報が漏洩していないか（「メールが存在しない」vs「認証失敗」）`\n指摘された問題を修正する',
        },
      ],
      challenge: 'JWT認証付きのAPIを構築し、認証済み/未認証のリクエストで異なる結果を確認しよう',
      hints: [
        'セキュリティに関する実装はAIの提案を鵜呑みにせず、必ずレビューしよう',
        'トークンの有効期限やリフレッシュトークンについてもAIに聞いてみよう',
      ],
      checkQuestions: [
        {
          question: 'JWTの構成要素として正しいのは？',
          options: [
            'ユーザー名、パスワード、トークン',
            'ヘッダー、ペイロード、署名',
            '公開鍵、秘密鍵、証明書',
            'セッションID、クッキー、キャッシュ',
          ],
          correctIndex: 1,
          explanation: 'JWTはヘッダー（Header）、ペイロード（Payload）、署名（Signature）の3つの部分で構成されます',
        },
      ],
    },
    {
      id: 'day4-be-quest3',
      dayId: 4,
      title: 'バッチ処理',
      description: 'データ処理スクリプトをAIと一緒に作成し、自動化スキルを向上させよう',
      difficulty: 4,
      estimatedMinutes: 25,
      targetRoles: ['backend-engineer'],
      steps: [
        {
          title: '処理要件の定義',
          content: '**Cmd+N**で新規ファイルを作成し、以下を整理する:\n- **入力**: CSVファイル（例: `users.csv` — 列: 名前, メール, 部署, 入社日）\n- **処理**: データ変換（日付フォーマット統一、部署コード→部署名変換）\n- **出力**: 変換済みCSV + 部署別人数の集計レポート\n- **エラー処理**: 不正行はスキップしてログに記録',
        },
        {
          title: 'スクリプトの作成',
          content: '**Cmd+I**（Composer）で以下を依頼する:\n`Node.js + TypeScriptでCSVバッチ処理スクリプトを作って。仕様: 1. csv-parseでCSV読み込み 2. 日付を YYYY/MM/DD に統一 3. 部署コード(D001等)を部署名に変換（マッピングテーブル付き） 4. 変換結果を新しいCSVに出力 5. 部署別人数の集計も出力。サンプルCSVデータも一緒に作って`',
        },
        {
          title: 'エラーハンドリング',
          content: '**Cmd+L**（チャット）で以下を依頼する:\n`このスクリプトにエラーハンドリングを追加して: 1. ファイルが存在しない場合のエラーメッセージ 2. CSVのカラム数が不正な行はスキップ 3. 日付が不正なフォーマットの場合は"変換不可"と出力 4. 処理中の致命的エラーは処理を中断してエラーログを出力`',
        },
        {
          title: 'ログ出力の追加',
          content: '**Cmd+K**でスクリプトの主要処理部分を選択し、以下を指示する:\n`以下のログ出力を追加して: 1. 処理開始時刻と入力ファイル名 2. 処理中: 100行ごとに進捗表示（"処理中: 100/500行"） 3. スキップした行の行番号と理由 4. 処理完了時: 総行数、成功行数、スキップ行数、処理時間`\nターミナルでスクリプトを実行し、ログが正しく出力されるか確認する',
        },
      ],
      challenge: 'CSVデータを読み込み、変換して別形式で出力するバッチ処理を作成しよう',
      hints: [
        '処理の要件を具体的にAIに伝えるとより実用的なスクリプトが生成される',
        'テストデータを準備してから実装を始めると効率的',
      ],
      checkQuestions: [
        {
          question: 'バッチ処理の設計でAIに最初に伝えるべきことは？',
          options: [
            '使用するプログラミング言語',
            '入力データの形式と期待する出力',
            'サーバーのスペック',
            '実行するスケジュール',
          ],
          correctIndex: 1,
          explanation: '入力と出力を明確にすることで、AIはより的確な処理ロジックを提案できます',
        },
      ],
    },
    // ========== Web Designer ==========
    {
      id: 'day4-wd-quest1',
      dayId: 4,
      title: 'LP制作',
      description: 'ランディングページをAIと一緒にフルコーディングし、デザイン実装力を磨こう',
      difficulty: 3,
      estimatedMinutes: 30,
      targetRoles: ['web-designer'],
      steps: [
        {
          title: 'LPの構成を設計',
          content: '**Cmd+L**（チャット）で以下を依頼する:\n`SaaSサービスのLPの構成を設計して。セクション: 1. ヒーロー（キャッチコピー+CTAボタン+イメージ） 2. 課題提起（3つの課題） 3. 解決策（サービスの特徴3つ） 4. 料金プラン（3段階） 5. お客様の声（3件） 6. FAQ（5問） 7. CTA（お問い合わせフォーム） 8. フッター。各セクションのコンテンツ案も含めて`',
        },
        {
          title: 'HTMLマークアップ',
          content: '**Cmd+I**（Composer）で以下を依頼する:\n`この構成でセマンティックHTMLを生成して。条件: 1. 各セクションにid属性（ナビのアンカーリンク用） 2. header, main, section, footerのセマンティックタグ使用 3. 画像はプレースホルダー（via.placeholder.com）使用 4. CSSとHTMLは1ファイルにまとめて`',
        },
        {
          title: 'CSSスタイリング',
          content: '**Cmd+K**でCSS部分を選択し、以下を指示する:\n`このLPにモダンなスタイリングを適用して: 1. カラー: Primary #3B82F6, 背景 #FFFFFF, テキスト #111827 2. フォント: 見出しbold/各サイズ、本文regular/16px 3. ヒーローセクション: 全幅、背景グラデーション 4. 特徴セクション: 3カラムカードレイアウト 5. CTAボタン: 角丸、ホバーエフェクト`\nブラウザでプレビューしてデザインを確認する',
        },
        {
          title: 'レスポンシブ対応',
          content: '**Cmd+K**でCSSのメディアクエリ部分を選択し指示する:\n`モバイルファーストでレスポンシブ対応して: 768px以下→1カラム、ナビはハンバーガーメニュー、ヒーロー画像は非表示、料金カードは縦並び`\nDevToolsの**デバイスツールバー**で各サイズを確認する',
        },
        {
          title: 'アニメーション追加',
          content: '**Cmd+L**で以下を依頼する:\n`このLPに以下のアニメーションを追加して: 1. ヒーローテキスト: ページロード時にフェードイン+上からスライド 2. 特徴カード: スクロールで表示時にフェードイン（Intersection Observer使用） 3. CTAボタン: ホバー時にscale(1.05)+shadow変化 4. 各セクション: スクロールで表示時にopacity 0→1。GPU加速プロパティ(transform, opacity)のみ使用`',
        },
      ],
      challenge: 'ヒーロー・特徴・CTAセクションを含むLPを完成させよう',
      hints: [
        '参考にしたいデザインのURLやイメージをAIに伝えると具体的なコードが得られる',
        'セクションごとに分けて実装すると管理しやすい',
      ],
      checkQuestions: [
        {
          question: 'LP制作でAIを活用する効果的な方法は？',
          options: [
            'デザインを全てAIに任せる',
            'セクションごとに要件を伝えてコードを生成する',
            'AIは使わず手動で全て書く',
            '他のLPをそのままコピーする',
          ],
          correctIndex: 1,
          explanation: 'セクションごとに要件を伝えることで、意図に沿った質の高いコードが得られます',
        },
      ],
    },
    {
      id: 'day4-wd-quest2',
      dayId: 4,
      title: 'ポートフォリオ',
      description: 'ポートフォリオサイトをAIと一緒に構築し、自分の作品を魅力的に見せよう',
      difficulty: 3,
      estimatedMinutes: 30,
      targetRoles: ['web-designer'],
      steps: [
        {
          title: 'ポートフォリオの設計',
          content: '**Cmd+L**（チャット）で以下を依頼する:\n`Webデザイナー向けポートフォリオサイトの構成を提案して。ページ構成: 1. トップ（自己紹介+スキルバー） 2. Works（作品一覧/ギャラリー） 3. About（詳細プロフィール） 4. Contact（お問い合わせフォーム）。各ページに含めるコンテンツの案も付けて`\n掲載する作品を3〜5点選んでおく',
        },
        {
          title: 'トップページの作成',
          content: '**Cmd+I**（Composer）で以下を依頼する:\n`ポートフォリオのトップページを作って。含める要素: 1. 名前と肩書き（大きなタイポグラフィ） 2. 一言紹介文 3. スキルセット（HTML/CSS/JS/Figma等をバー表示） 4. 作品ハイライト（3枚のサムネイル） 5. ナビゲーション（Works, About, Contact）。ダークテーマで`',
        },
        {
          title: '作品一覧ページ',
          content: '**Cmd+I**（Composer）で以下を依頼する:\n`作品一覧ページをギャラリー形式で作って。仕様: 1. CSS Gridで3カラム配置 2. サムネイルホバー時にオーバーレイ（タイトル+カテゴリ表示） 3. カテゴリフィルター（All/Web/App/Graphic）をボタンで切り替え 4. 画像はプレースホルダー使用。レスポンシブ対応（モバイル: 1列）`',
        },
        {
          title: 'コンタクトページ',
          content: '**Cmd+I**（Composer）で以下を依頼する:\n`お問い合わせページを作って。含める要素: 1. フォーム（名前、メール、件名、メッセージ） 2. バリデーション（HTML5の required + pattern） 3. SNSリンク（アイコン付き） 4. 送信ボタンにホバーエフェクト`\nフォームの動作をブラウザで確認する（バリデーションエラーが表示されるか）',
        },
        {
          title: '仕上げとブラッシュアップ',
          content: '**Cmd+L**で全ページのコードを渡し、以下を依頼する:\n`このポートフォリオサイト全体をレビューして: 1. ページ間のデザイン一貫性 2. ナビゲーションの使いやすさ 3. 読み込み速度の改善点 4. アクセシビリティの問題`\nフィードバックをもとに修正し、ブラウザで全ページを通して確認する',
        },
      ],
      challenge: '3ページ以上のポートフォリオサイトを構築しよう',
      hints: [
        '好きなポートフォリオサイトの特徴をAIに伝えると参考になるコードが得られる',
        'まずシンプルに作って徐々にブラッシュアップするのがコツ',
      ],
      checkQuestions: [
        {
          question: 'ポートフォリオサイト制作でAIに依頼すると効率的なのは？',
          options: [
            'ポートフォリオの内容・実績の作成',
            'レスポンシブ対応のCSSグリッドレイアウト',
            '作品の撮影と画像編集',
            'ドメインの取得と設定',
          ],
          correctIndex: 1,
          explanation: 'CSSレイアウトのコーディングはAIが得意な領域で、大幅な時間短縮が可能です',
        },
      ],
    },
    {
      id: 'day4-wd-quest3',
      dayId: 4,
      title: 'メールテンプレート',
      description: 'HTMLメールテンプレートをAIと一緒に作成し、クロスクライアント対応を学ぼう',
      difficulty: 3,
      estimatedMinutes: 25,
      targetRoles: ['web-designer'],
      steps: [
        {
          title: 'テンプレートの設計',
          content: '以下を決めてからAIに依頼する:\n- **用途**: ニュースレター / キャンペーン告知 / ウェルカムメール\n- **レイアウト**: ヘッダー（ロゴ）→ メインビジュアル → 本文 → CTA → フッター\n- **幅**: 600px（メールクライアント標準）\n- **カラー**: ブランドカラーに合わせて2〜3色',
        },
        {
          title: 'テーブルレイアウトの構築',
          content: '**Cmd+I**（Composer）で以下を依頼する:\n`メールクライアント互換のHTMLメールテンプレートを作って。条件: 1. テーブルレイアウト使用（divは使わない） 2. 幅600px 3. 構成: ロゴヘッダー → ヒーロー画像 → 見出し+本文 → CTAボタン → フッター 4. セル間のpadding/marginはcellpaddingとstyleで制御`\n**注意**: メールHTMLでは`<div>`, `<section>`は使わず`<table>`ベースにする',
        },
        {
          title: 'インラインCSSの適用',
          content: '**Cmd+K**でHTMLメール全体を選択し、以下を指示する:\n`このHTMLメールのCSSをすべてインラインスタイルに変換して。理由: Gmail等のメールクライアントは<style>タグを無視する場合がある。font-family, font-size, color, background-color, padding等をすべてstyle属性に記述して`',
        },
        {
          title: 'レスポンシブ対応',
          content: '**Cmd+L**で以下を依頼する:\n`このHTMLメールをモバイル対応して。方法: 1. <style>タグ内に@media (max-width: 480px)を追加 2. テーブルのwidth: 100% !important 3. 画像のmax-width: 100% 4. フォントサイズを14px以上に 5. CTAボタンのタップエリアを44px以上に`\n完成後、ブラウザで表示幅を変えて確認する。可能であればLitmusやEmail on Acidでテストする',
        },
      ],
      challenge: 'PC・モバイル両対応のHTMLメールテンプレートを完成させよう',
      hints: [
        '「メールクライアント互換」とAIに伝えるとテーブルレイアウトのコードを生成してくれる',
        'OutlookやGmail等の各クライアントの制約をAIに聞いてみよう',
      ],
      checkQuestions: [
        {
          question: 'HTMLメールでテーブルレイアウトが使われる理由は？',
          options: [
            'テーブルの方がデザインが美しいから',
            '多くのメールクライアントで安定して表示されるから',
            'テーブルの方がコードが短いから',
            'HTMLの仕様で決められているから',
          ],
          correctIndex: 1,
          explanation: 'メールクライアントによってCSS対応が異なるため、テーブルレイアウトが最も安定して表示されます',
        },
      ],
    },
    // ========== Director ==========
    {
      id: 'day4-dir-quest1',
      dayId: 4,
      title: '新規事業提案書',
      description: 'AIを活用して新規事業の提案書を作成し、ビジネス文書作成スキルを磨こう',
      difficulty: 3,
      estimatedMinutes: 30,
      targetRoles: ['director'],
      steps: [
        {
          title: 'アイデアの整理',
          content: '**Cmd+L**（チャット）で以下のプロンプトでブレインストーミングする:\n`新規事業のアイデアを整理したい。分野: [IT/教育/ヘルスケア等]、ターゲット: [中小企業/個人消費者等]、強み: [自社の技術力/既存顧客基盤等]。この条件でビジネスアイデアを5つ提案して。各アイデアに市場機会と課題も付けて`\n提案の中から方向性を1つ選ぶ',
        },
        {
          title: '市場分析',
          content: 'チャットで続けて依頼する:\n`選んだアイデア「[アイデア名]」について、以下の分析をして: 1. TAM/SAM/SOMの推定 2. ターゲット顧客のペルソナ（3パターン） 3. 市場トレンド（成長率、技術動向） 4. 参入障壁と差別化ポイント`\n**注意**: AIの市場規模推定は概算なので、公的データで裏付けを取る',
        },
        {
          title: '提案書の構成作成',
          content: '**Cmd+I**（Composer）で以下を依頼する:\n`新規事業提案書の構成をMarkdownで作って。セクション: 1. エグゼクティブサマリー（1ページ） 2. 背景と課題 3. 解決策（サービス概要） 4. 市場分析 5. ビジネスモデル（収益構造） 6. 競合優位性 7. ロードマップ（Phase1-3） 8. 投資計画と期待ROI 9. リスクと対策`',
        },
        {
          title: '各セクションの執筆',
          content: 'セクションごとにチャットで依頼する:\n`「ビジネスモデル」セクションを書いて。条件: 1. 収益モデル（サブスクリプション/従量課金等） 2. 価格設定の根拠 3. 顧客獲得コストと生涯顧客価値（LTV）の想定 4. 3年間の売上シミュレーション表`\n各セクションの数値は自社の実情に合わせて調整する',
        },
        {
          title: 'レビューと推敲',
          content: '**Cmd+L**で提案書全体を渡し、以下を依頼する:\n`この提案書を経営者の視点でレビューして。以下を確認: 1. 論理の飛躍がないか 2. 数字に根拠があるか 3. リスク分析は十分か 4. 投資対効果が明確か 5. アクションプランが具体的か。改善が必要な箇所を優先度付きで指摘して`\n指摘をもとに修正し、最終版を完成させる',
        },
      ],
      challenge: '市場分析・課題・解決策・収益モデルを含む事業提案書を完成させよう',
      hints: [
        'AIに「経営者が知りたいポイント」を聞いてから構成を考えると説得力が増す',
        '数値やデータは自分で確認・調整することが重要',
      ],
      checkQuestions: [
        {
          question: 'AI活用で事業提案書を作成する際の注意点は？',
          options: [
            'AIが生成した数値データをそのまま使う',
            'AIの出力を検証し、自社の状況に合わせて調整する',
            '提案書の全内容をAIに任せる',
            'AIは使わず全て手動で書く',
          ],
          correctIndex: 1,
          explanation: 'AIの出力は参考情報として活用し、実際のデータや自社の状況に合わせて調整することが重要です',
        },
      ],
    },
    {
      id: 'day4-dir-quest2',
      dayId: 4,
      title: '競合分析レポート',
      description: 'AIを活用して競合調査レポートを効率的に作成しよう',
      difficulty: 3,
      estimatedMinutes: 25,
      targetRoles: ['director'],
      steps: [
        {
          title: '分析対象の選定',
          content: '**Cmd+N**で新規ファイルを作成し、以下の形式で競合をリストアップする:\n- **直接競合**: 同じ市場で同じ顧客層をターゲットにしているサービス（3社以上）\n- **間接競合**: 異なるアプローチで同じ課題を解決しているサービス（2社程度）\n各社の公式サイトURL、主要サービス名、推定規模をメモする',
        },
        {
          title: '分析フレームワークの設定',
          content: '**Cmd+L**（チャット）で以下を依頼する:\n`以下の競合分析に最適なフレームワークを提案して: 分析目的: [新規参入/既存サービス改善/価格戦略見直し]、対象: [3社の競合リスト]。SWOT、4P、ポーターの5フォース、バリューチェーンから最適な2つを選んで、分析テンプレートを作って`',
        },
        {
          title: '比較表の作成',
          content: 'チャットで以下を依頼する:\n`以下の軸で競合比較表をMarkdown表形式で作って: 1. サービス名 2. 主要機能（5項目） 3. 価格帯 4. ターゲット層 5. 強み 6. 弱み 7. UI/UX評価。自社も含めて比較できる形式で`\n**注意**: AIの情報は古い場合があるので、各社の最新情報を公式サイトで確認する',
        },
        {
          title: 'レポートの取りまとめ',
          content: '**Cmd+I**（Composer）で以下を依頼する:\n`競合分析の結果をレポートにまとめて。構成: 1. 分析概要（目的と対象） 2. 市場環境のまとめ 3. 競合比較表 4. 各社の詳細分析 5. 自社のポジショニング 6. 示唆と推奨アクション（3つ、優先度付き）`\n推奨アクションが自社で実行可能か確認して最終版を完成させる',
        },
      ],
      challenge: '3社以上の競合を分析し、比較表と示唆を含むレポートを作成しよう',
      hints: [
        'AIに分析フレームワークの使い分けを聞くと適切な手法を選べる',
        '公開情報をもとに分析し、AIの推測に頼りすぎないようにしよう',
      ],
      checkQuestions: [
        {
          question: '競合分析でAIを活用する最も効果的な場面は？',
          options: [
            '競合の売上データの正確な取得',
            '分析フレームワークの選定と比較表のフォーマット作成',
            '競合の内部情報の調査',
            '競合企業の株価予測',
          ],
          correctIndex: 1,
          explanation: 'AIはフレームワークの提案やフォーマット作成が得意で、分析の構造化を効率的にサポートします',
        },
      ],
    },
    {
      id: 'day4-dir-quest3',
      dayId: 4,
      title: '運用ルールブック',
      description: 'チーム運用ルールの文書をAIと一緒に作成し、チームの生産性向上を目指そう',
      difficulty: 3,
      estimatedMinutes: 25,
      targetRoles: ['director'],
      steps: [
        {
          title: 'ルールの洗い出し',
          content: '**Cmd+L**（チャット）で以下を依頼する:\n`チーム運用ルールブックに含めるべき項目をブレインストーミングして。カテゴリ: 1. コミュニケーション（Slack/メールの使い分け、レスポンス時間） 2. タスク管理（チケットの書き方、ステータス更新） 3. 会議（定例の頻度、議事録ルール） 4. コードレビュー（レビュー依頼の方法、承認基準） 5. ドキュメント（更新頻度、保管場所）`',
        },
        {
          title: '文書構成の設計',
          content: '**Cmd+I**（Composer）で以下を依頼する:\n`運用ルールブックの構成をMarkdownで作って。含める情報: 1. 目的（なぜこのルールブックが必要か） 2. 適用範囲（対象チーム・プロジェクト） 3. 各カテゴリのルール詳細 4. 例外事項 5. ルール改定の手続き。目次付きで`',
        },
        {
          title: '各ルールの記述',
          content: 'カテゴリごとにチャットで依頼する:\n`「コミュニケーションルール」を具体的に書いて。各ルールは以下の形式で: ルール名、説明、具体例（OK/NG例）、例外。例: ルール「Slackメッセージへの応答時間」→ 説明: 業務時間内は2時間以内に反応 → OK例: スタンプで既読を示す → NG例: 翌日まで未読放置`',
        },
        {
          title: 'レビューと改善',
          content: '**Cmd+L**でルールブック全体を渡し、以下を依頼する:\n`このルールブックをレビューして: 1. ルール間に矛盾がないか 2. 曖昧な表現がないか（「なるべく」「適宜」等→具体的な数値に） 3. 実行可能か（現実的でないルールはないか） 4. 抜け漏れているカテゴリはないか`\n指摘をもとに修正し、チームメンバーにフィードバックをもらう',
        },
      ],
      challenge: 'コミュニケーション・タスク管理・会議ルールを含む運用ルールブックを作成しよう',
      hints: [
        '既存のルールブックのテンプレートをAIに提案してもらうと効率的',
        'ルールは具体的なアクションレベルで記述すると実効性が高まる',
      ],
      checkQuestions: [
        {
          question: '運用ルールブック作成でAIの活用が最も適している工程は？',
          options: [
            'チームメンバーとの合意形成',
            '文書の構成・テンプレート作成と表現のブラッシュアップ',
            'ルールの適用と運用',
            'チームの人間関係の調整',
          ],
          correctIndex: 1,
          explanation: 'AIは文書の構成提案やテンプレート作成、表現の改善に優れており、効率的にルールブックを作成できます',
        },
      ],
    },
    // ========== Non-Engineer ==========
    {
      id: 'day4-ne-quest1',
      dayId: 4,
      title: '社内Wiki記事',
      description: 'AIを活用してWiki記事を効率的に作成し、ナレッジ共有を推進しよう',
      difficulty: 2,
      estimatedMinutes: 25,
      targetRoles: ['non-engineer'],
      steps: [
        {
          title: 'トピックの選定',
          content: '以下から1つ選ぶ（または自分の業務に関連するトピック）:\n- 新しいツールの使い方（例: Slack, Notion, Google Workspace）\n- 業務手順のマニュアル（例: 経費精算、休暇申請）\n- ノウハウ共有（例: 効率的な会議の進め方）\n読者（新入社員 / チーム全員 / 他部署）も決めておく',
        },
        {
          title: '構成の作成',
          content: '**Cmd+L**（チャット）で以下を依頼する:\n`社内Wiki記事の構成を作って。トピック: [経費精算の手順]。読者: 新入社員。含めるセクション: 1. 概要（この手順が必要な場面） 2. 事前準備（必要なもの） 3. 手順（ステップバイステップ） 4. よくあるミスと対処法 5. 問い合わせ先。各セクションに書くべき内容のガイドも付けて`',
        },
        {
          title: '本文の執筆',
          content: 'セクションごとにチャットで依頼する:\n`「手順」セクションを書いて。条件: 1. 番号付きのステップ形式 2. 各ステップに「なぜこの操作が必要か」を補足 3. 操作画面のスクリーンショットを挿入する箇所に[スクリーンショット: ○○画面]と記載 4. 初心者でも迷わない粒度で`\n実際の操作と照らし合わせて内容を確認する',
        },
        {
          title: '図表の追加指示',
          content: '記事を読み返し、以下の箇所にスクリーンショットや図表が必要か確認する:\n- 画面操作の説明箇所 → スクリーンショットを撮影して挿入\n- 選択肢が複数ある箇所 → フローチャート（Mermaid記法でAIに作成依頼）\n- 比較が必要な箇所 → 表形式に変換\n**Cmd+L**で`この記事に必要な図表の一覧を作って。各図に「何を伝えるための図か」の説明を付けて`と依頼する',
        },
      ],
      challenge: '業務手順やノウハウをまとめたWiki記事を1本完成させよう',
      hints: [
        '読者のレベルをAIに伝えると適切な説明の粒度で書いてくれる',
        '「初心者にも分かるように」と指示すると丁寧な説明が得られる',
      ],
      checkQuestions: [
        {
          question: 'Wiki記事作成でAIを効果的に使うコツは？',
          options: [
            '全ての内容をAIに丸投げする',
            '読者の前提知識レベルを指定して執筆を依頼する',
            '既存の記事をそのままコピーする',
            '専門用語を多用して書いてもらう',
          ],
          correctIndex: 1,
          explanation: '読者のレベルを指定することで、AIは適切な説明の粒度と用語選びで記事を作成できます',
        },
      ],
    },
    {
      id: 'day4-ne-quest2',
      dayId: 4,
      title: 'FAQ整備',
      description: 'よくある質問集をAIと一緒に作成し、問い合わせ対応を効率化しよう',
      difficulty: 2,
      estimatedMinutes: 25,
      targetRoles: ['non-engineer'],
      steps: [
        {
          title: '質問の収集',
          content: '以下の方法でよくある質問を10件以上集める:\n- 過去のメールやチャットで繰り返し聞かれた質問を洗い出す\n- チームメンバーに「よく聞かれる質問は？」とヒアリングする\n- カテゴリ分け（例: 「アカウント関連」「操作方法」「トラブル対応」「料金」）\n**Cmd+N**で新規ファイルに質問リストをまとめる',
        },
        {
          title: '回答の作成',
          content: '**Cmd+L**（チャット）に質問リストを貼り付け、以下のように依頼する:\n`以下の質問への回答案を作って。条件: 1. 各回答は3〜5文で簡潔に 2. 専門用語を使う場合は（）で説明を付ける 3. 関連するリンクや参照先を[リンク: ○○]形式で示す 4. 回答の最後に「この回答で解決しない場合は[問い合わせ先]へ」を付ける`',
        },
        {
          title: '回答の精査',
          content: 'AIが生成した回答を以下の観点でチェックする:\n- 自社の実際の手順・ルールと一致しているか\n- 連絡先やURL等の具体的情報が正しいか\n- 回答が最新の情報に基づいているか（古い手順になっていないか）\n- 回答のトーンが統一されているか（丁寧語/ですます調）\n不正確な箇所はチャットで`この回答を以下の実情に合わせて修正して: ...`と指示する',
        },
        {
          title: 'フォーマットの統一',
          content: '**Cmd+L**でFAQ全体を渡し、以下を依頼する:\n`このFAQのフォーマットを統一して: 1. 質問は「Q. ○○ですか？/○○するには？」形式 2. 回答は「A. 」で始める 3. 手順がある場合は番号付きリスト 4. カテゴリごとに見出しで区切る 5. 目次（カテゴリ名+質問数）を先頭に追加`\n完成したFAQをチームメンバーに共有してフィードバックをもらう',
        },
      ],
      challenge: '10件以上のQ&Aを含むFAQ文書を完成させよう',
      hints: [
        '実際に受けた質問をベースにすると実用的なFAQになる',
        'カテゴリごとにまとめると検索しやすいFAQになる',
      ],
      checkQuestions: [
        {
          question: 'FAQ作成でAIが最も役立つ場面は？',
          options: [
            '社内の機密情報を回答に含める',
            '質問に対する回答のドラフト作成と表現の統一',
            'FAQページのサーバー管理',
            '顧客の個人情報の整理',
          ],
          correctIndex: 1,
          explanation: 'AIは回答のドラフト作成と文体・フォーマットの統一に優れており、FAQ作成を大幅に効率化できます',
        },
      ],
    },
    {
      id: 'day4-ne-quest3',
      dayId: 4,
      title: '自動化スクリプト',
      description: '簡単な自動化スクリプトをAIと一緒に作成し、日常業務の効率化を体験しよう',
      difficulty: 3,
      estimatedMinutes: 30,
      targetRoles: ['non-engineer'],
      steps: [
        {
          title: '自動化したい作業の特定',
          content: '以下のような繰り返し作業から1つ選ぶ:\n- **ファイル整理**: 特定フォルダ内のファイルを日付別に分類\n- **テキスト変換**: CSVの特定列を抽出して別ファイルに保存\n- **リネーム**: ファイル名を一括で変更（連番付与等）\n- **レポート**: 複数ファイルから特定情報を抽出してまとめる\n選んだ作業の手順を箇条書きでメモする',
        },
        {
          title: 'AIに要件を説明',
          content: '**Cmd+L**（チャット）で以下のように説明する:\n`以下の作業を自動化するスクリプトを作りたい（プログラミング未経験）:\n・作業内容: ダウンロードフォルダ内のファイルを拡張子別（PDF/Excel/画像）にフォルダ分け\n・入力: ~/Downloads フォルダ\n・出力: ~/Downloads/PDF, ~/Downloads/Excel, ~/Downloads/画像 に移動\n・条件: 今日ダウンロードしたファイルのみ対象\nPythonで作って、各行に日本語コメントを付けて`',
        },
        {
          title: 'スクリプトの生成',
          content: 'AIが生成したスクリプトについて、チャットで以下を依頼する:\n`このスクリプトの各行が何をしているか、プログラミング未経験者向けに説明して。特に: 1. import文は何のため？ 2. os.path.joinは何をしている？ 3. shutil.moveはどういう動き？`\n説明を読んで、スクリプトの動作を理解する',
        },
        {
          title: '実行と動作確認',
          content: 'スクリプトを実行する前に、**Cmd+L**で以下を確認する:\n`このスクリプトを実行する前に確認: 1. ファイルが削除される処理はないか 2. 上書きの危険はないか 3. テスト実行する方法はあるか`\n安全を確認後、ターミナル（**Ctrl+`**）で実行する:\n`python3 organize_files.py`\n結果を確認し、期待通りにファイルが移動されたか確認する',
        },
        {
          title: 'カスタマイズ',
          content: '自分の業務に合わせてAIに調整を依頼する:\n`このスクリプトを以下のように修正して: 1. 対象を「今日」から「直近7日間」に変更 2. ログファイル（処理結果の記録）を出力 3. 実行前に「○件のファイルを移動します。よろしいですか？(y/n)」と確認を表示`\n修正後も必ず動作確認してから本番利用する',
        },
      ],
      challenge: '日常業務の1つを自動化するスクリプトを作成し、実際に動かしてみよう',
      hints: [
        'まずは簡単な作業（ファイル名変更、テキスト整形等）から始めよう',
        'AIに「プログラミング未経験者向けに説明して」と伝えると分かりやすい解説が得られる',
      ],
      checkQuestions: [
        {
          question: 'プログラミング未経験者がAIで自動化する際のコツは？',
          options: [
            '最初から複雑な自動化に挑戦する',
            'スクリプトの内容を理解せずに実行する',
            '簡単な作業から始め、AIに各行の説明を求める',
            'エラーが出たら諦める',
          ],
          correctIndex: 2,
          explanation: '簡単な作業から始め、AIに丁寧な説明を求めることで、安全に自動化スキルを身につけられます',
        },
      ],
    },
  ],
};
